### ç”Ÿå‘½å‘¨æœŸ

**ç±»ç»„ä»¶**æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œå‡½æ•°ç»„ä»¶æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸ



#### æ—§ç‰ˆï¼šversion å°äº 16.0.0

1. constructorï¼šåŒä¸€ä¸ªç»„ä»¶å¯¹è±¡åªä¼šåˆ›å»ºä¸€æ¬¡
   1. ä¸èƒ½ä½¿ç”¨setState
2. ~~componentWillMount()~~ : ç»„ä»¶å³å°†æŒ‚åœ¨åˆ°å¯¹è±¡ä¸Šï¼ˆåªä¼šè¿è¡Œä¸€æ¬¡ï¼‰
   1. å¯ä»¥ä½¿ç”¨setState ï¼›ä½†æ˜¯ä¸è®©ä½¿ç”¨
3. render() 
   1. è¿”å›ä¸€ä¸ªè™šæ‹ŸDOMï¼Œä¼šè¢«æŒ‚è½½åˆ°è™šæ‹ŸDOMæ ‘ä¸­ï¼Œæœ€ç»ˆæ¸²æŸ“åˆ°é¡µé¢çš„çœŸå®DOMä¸­
   2. renderå¯èƒ½ä¸åªè¿è¡Œä¸€æ¬¡ï¼Œåªè¦éœ€è¦é‡æ–°æ¸²æŸ“ï¼Œå°±ä¼šé‡æ–°è¿è¡Œ
   3. åœ¨renderä¸­ğŸˆ²ï¸ setState() 
4. componentDidMount()ï¼š ç»„ä»¶æŒ‚è½½å®Œæˆ
   1. åªä¼šæ‰§è¡Œä¸€æ¬¡
   2. å¯ä»¥ä½¿ç”¨setState
   3. é€šå¸¸æƒ…å†µä¸‹ï¼Œä¼šå°†ç½‘ç»œè¯·æ±‚ï¼Œå¯åŠ¨è®¡æ—¶å™¨
5. ç»„ä»¶è¿›å…¥æ´»è·ƒçŠ¶æ€ï¼Œè¿›å…¥æ›´æ–°çŠ¶æ€
6. ~~componentWillReceiveProps(nextProps)~~
7. shouldComponentUpdateï¼ˆnextPropsï¼ŒnexStatesï¼‰
   1. æŒ‡ç¤ºReactæ˜¯å¦é‡æ–°æ¸²æŸ“è¯¥ç»„ä»¶ï¼Œé€šå¸¸ä¼šè¿”å› false or true
8. ~~componentWillUpdate(nextProps,nextStates,nextContext)~~
9. render()
10. componentDidUpdate(prevProps,prevState,snapshot)
   1. å¾€å¾€åœ¨è¯¥å‡½æ•°ä¸­ä½¿ç”¨domæ“ä½œï¼Œæ”¹å˜å…ƒç´ 
11. **componentWillUnmount() **
    1. é€šå¸¸åœ¨è¯¥å‡½æ•°ä¸­é”€æ¯ä¸€äº›ç»„ä»¶ä¾èµ–çš„èµ„æºï¼Œæ¯”å¦‚è®¡æ—¶å™¨

![img](https://pic4.zhimg.com/80/v2-1c25cb892af7ee21ef7a4e2c8e1785a3_1440w.webp)

#### æ–°ç‰ˆï¼šversion å¤§äº 16.0.0

 åˆ é™¤äº†ï¼š~~componentWillMount~~

 åˆ é™¤äº†ï¼š~~componentWillUpdate~~



1. static getDerivedStateFromProps(props,state){ return {}}.  
   1. è¿”å› null ä¸æ”¹å˜çŠ¶æ€
   2. è¿”å›{} ä¼šå’Œ æ—§çš„çŠ¶æ€æ··åˆ

2. getSnapshotBeforeUpdate(prevProps,prevStates){ return ; }
   1. è™šæ‹Ÿdomæ ‘æ„å»ºå®Œæˆï¼Œä½†è¿˜æœªå®é™…æ¸²æŸ“åˆ°é¡µé¢ä¸­ 
   2. åœ¨è¯¥å‡½æ•°ä¸­ï¼Œé€šå¸¸ç”¨äºå®ç°ä¸€äº›é™„åŠ çš„domæ“ä½œ
   3. è¯¥å‡½æ•°çš„è¿”å›å€¼ï¼Œä¼šä½œä¸ºcomponentDIdUpdate çš„ç¬¬ä¸‰ä¸ªå‚æ•°

![img](https://pic1.zhimg.com/80/v2-ec4630f8b8286c8c105bed56870a6a14_1440w.webp)